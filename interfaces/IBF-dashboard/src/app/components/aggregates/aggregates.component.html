<div>
  <ion-grid class="ion-no-padding">
    <ion-row
      class="component-title"
      style="background: var(--ion-color-ibf-secondary)"
      data-test="action-title"
    >
      <ion-col size-lg="10" size-md="10" size-xs="10" class="ion-no-padding">
        <ion-item
          lines="none"
          class="component-title-item ion-padding-left ion-no-margin ion-align-items-start"
          color="ibf-secondary"
        >
          <ion-col>
            <ion-label
              class="aggregates--title"
              data-test="aggregate-title"
              [title]="
                ('aggregates-component.header-title-prefix' | translate) +
                ' ' +
                getNumberAreasExposed() +
                ' ' +
                getLabelAreasExposed().headerLabel
              "
            >
              <strong>
                <ion-text color="ibf-primary" style="font-size: 20px">{{
                  getNumberAreasExposed()
                }}</ion-text>
                {{ getLabelAreasExposed().headerLabel }}
              </strong>
            </ion-label>
            <ion-label class="aggregates--subtitle">
              <ion-text style="font-size: 12px">
                {{ getLabelAreasExposed().subHeaderLabel }}
              </ion-text>
            </ion-label>
          </ion-col>
        </ion-item>
      </ion-col>
      <ion-col size-lg="2" size-md="2" size-xs="2" class="ion-no-padding">
        <ion-item
          lines="none"
          class="component-title-item ion-padding-left ion-no-margin ion-align-items-start"
          color="ibf-secondary"
        >
          <ion-button
            fill="clear"
            *ngIf="placeCode"
            color="light"
            class="place-code-reset-button"
            (click)="clearPlaceCode()"
          >
            <ion-icon name="close" slot="icon-only"></ion-icon>
          </ion-button>
        </ion-item>
      </ion-col>
    </ion-row>

    <!-- <ion-item
      color="ibf-secondary"
      lines="none"
      class="aggregate-header-item"
      data-test="aggregate-title"
      [title]="
        ('aggregates-component.header-title-prefix' | translate) +
        ' ' +
        getNumberAreasExposed() +
        ' ' +
        getLabelAreasExposed()
      "
    >
      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-label class="aggregate-header-item-label">
              <span class="aggregate-header-item-number">{{
                getNumberAreasExposed()
              }}</span>
              {{ getLabelAreasExposed().headerLabel }}
            </ion-label>
            <ion-label>
              {{ getLabelAreasExposed().subHeaderLabel }}
            </ion-label>
          </ion-col>
          <ion-col>
            <ion-button
              slot="end"
              fill="clear"
              *ngIf="placeCode"
              color="light"
              class="place-code-reset-button"
              (click)="clearPlaceCode()"
            >
              <ion-icon name="close" slot="icon-only"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item> -->

    <div data-test="aggregate-list">
      <ion-row
        *ngFor="let indicator of indicators"
        class="ion-no-padding"
        color="ibf-white"
      >
        <ion-col size-lg="7" size-md="7" size-xs="7">
          <ion-item lines="inset" class="aggregate-item ion-no-padding">
            <ion-thumbnail
              slot="start"
              class="aggregate-item-thumbnail"
              color="ibf-tertiary"
            >
              <ion-img src="assets/icons/{{ indicator.icon }}"></ion-img>
            </ion-thumbnail>
            <ion-label class="aggregate-item-label" [title]="indicator.label">
              <span *ngIf="indicator.weightedAvg"></span>

              {{ indicator.label }}
            </ion-label>
          </ion-item>
        </ion-col>
        <ion-col size-lg="4" size-md="4" size-xs="4">
          <ion-item class="aggregate-item-value ion-no-padding">
            <ion-label class="ion-text-right" data-test="aggregate-number">
              <span *ngIf="indicator.numberFormatAggregate === 'decimal2'">
                {{
                  this.getAggregate(
                    indicator.name,
                    indicator.weightedAvg,
                    indicator.numberFormatAggregate
                  ) | number: '.2-2'
                }}
              </span>
              <span *ngIf="indicator.numberFormatAggregate === 'decimal0'">
                {{
                  this.getAggregate(
                    indicator.name,
                    indicator.weightedAvg,
                    indicator.numberFormatAggregate
                  ) | number: '.0-0'
                }}
              </span>
              <span *ngIf="indicator.numberFormatAggregate === 'perc'">
                {{
                  this.getAggregate(
                    indicator.name,
                    indicator.weightedAvg,
                    indicator.numberFormatAggregate
                  ) | percent: '.0-0'
                }}
              </span>
            </ion-label>
          </ion-item>
        </ion-col>
        <ion-col
          size-lg="1"
          size-md="1"
          size-xs="1"
          [title]="'aggregates-component.more-information' | translate"
        >
          <ion-item
            class="aggregate-item-information-icon ion-no-padding"
            data-test="icon-row"
          >
            <ion-label class="ion-text-center">
              <img
                class="info-img"
                src="assets/icons/source-info.svg"
                (click)="moreInfo(indicator)"
              />
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
    </div>
  </ion-grid>
</div>
